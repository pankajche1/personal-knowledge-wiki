<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Apache web server: Basics | Personal Knowledge Wiki</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="what is Ref: https://www.guru99.com/apache.html
Q: What is virtual host?
Ans:
An Apache web server can host multiple websites on the SAME server. You do not need separate server machine and apache software for each website. This can achieved using the concept of Virtual Host or VHost.
key: Host, Virtual host, VHost
Q: What is VHost?
Ans: VHost = Virtual Host
Q: How multiple sites are configured on a single web server host?">
    <meta name="generator" content="Hugo 0.87.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="Apache web server: Basics" />
<meta property="og:description" content="what is Ref: https://www.guru99.com/apache.html
Q: What is virtual host?
Ans:
An Apache web server can host multiple websites on the SAME server. You do not need separate server machine and apache software for each website. This can achieved using the concept of Virtual Host or VHost.
key: Host, Virtual host, VHost
Q: What is VHost?
Ans: VHost = Virtual Host
Q: How multiple sites are configured on a single web server host?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/subjects/software/apache-web-server/basics/" /><meta property="article:section" content="subjects" />



<meta itemprop="name" content="Apache web server: Basics">
<meta itemprop="description" content="what is Ref: https://www.guru99.com/apache.html
Q: What is virtual host?
Ans:
An Apache web server can host multiple websites on the SAME server. You do not need separate server machine and apache software for each website. This can achieved using the concept of Virtual Host or VHost.
key: Host, Virtual host, VHost
Q: What is VHost?
Ans: VHost = Virtual Host
Q: How multiple sites are configured on a single web server host?">

<meta itemprop="wordCount" content="993">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Apache web server: Basics"/>
<meta name="twitter:description" content="what is Ref: https://www.guru99.com/apache.html
Q: What is virtual host?
Ans:
An Apache web server can host multiple websites on the SAME server. You do not need separate server machine and apache software for each website. This can achieved using the concept of Virtual Host or VHost.
key: Host, Virtual host, VHost
Q: What is VHost?
Ans: VHost = Virtual Host
Q: How multiple sites are configured on a single web server host?"/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Personal Knowledge Wiki
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/pages/" title="about hugo page">
              about hugo
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/getting-started/" title="getting started page">
              getting started
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/subjects/" title="Subjects page">
              Subjects
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
</div>
    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Apache web server: Basics</h1>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><h1 id="what-is">what is</h1>
<p>Ref: <a href="https://www.guru99.com/apache.html">https://www.guru99.com/apache.html</a></p>
<p><strong>Q:</strong> What is <em>virtual host</em>?</p>
<p><strong>Ans:</strong></p>
<p>An Apache web server can host multiple websites on the <em>SAME</em> server. You do not need separate server machine and apache software for each website. This can achieved using the concept of Virtual Host or VHost.</p>
<p><strong>key:</strong> Host, Virtual host, VHost</p>
<p><strong>Q:</strong> What is VHost?</p>
<p><strong>Ans:</strong> VHost = Virtual Host</p>
<p><strong>Q:</strong> How multiple sites are configured on a single web server host?</p>
<p><strong>Ans:</strong>  Any domain that you want to host on your web server will have a separate entry in apache configuration file.</p>
<p><strong>Q:</strong> What are the types of Apache Virtualhost?</p>
<p><strong>Ans:</strong>  Two types are there:</p>
<ol>
<li>Name-based Virtual host</li>
<li>Address-based or IP based virtual host</li>
</ol>
<p><strong>Q:</strong> What is a Name-based Virtual Host?</p>
<p><strong>Ans:</strong></p>
<h2 id="from-another-site">From another site:</h2>
<p>Ref: <a href="https://medium.com/swlh/apache-for-beginners-9d104225ec89">https://medium.com/swlh/apache-for-beginners-9d104225ec89</a></p>
<p><strong>Some Basic Commands</strong></p>
<p>Now, let’s go through some basic commands that you will need to manage your server!</p>
<p>You can enable your Apache site by using the command <code>a2ensite</code>(Apache 2 enable site) and disable it by using <code>a2dissite</code> (Apache 2 disable site).</p>
<p><strong>Q:</strong> How to enable you Apache site?</p>
<p><strong>Ans:</strong></p>
<pre><code>sudo a2ensite YOUR_DOMAIN.conf
sudo a2dissite YOUR_DOMAIN.conf
</code></pre>
<p><strong>Lingo:</strong></p>
<blockquote>
<p>apache2 enable site = a2ensite<br>
apache2 disable site = a2dissite</p>
</blockquote>
<p><strong>Q:</strong> What is the domain name at the local apache web server?</p>
<p><strong>Ans:</strong></p>
<p>Suppose your config file name is <code>my_domain_1.conf</code>. Then your domain name is <code>my_domain_1</code>.</p>
<h2 id="new-info">new info</h2>
<p>Ref: <a href="https://www.tecmint.com/list-enabled-virtual-hosts-in-apache-web-server/">https://www.tecmint.com/list-enabled-virtual-hosts-in-apache-web-server/</a></p>
<p><strong>Q:</strong> How to List All Virtual Hosts in Apache Web Server?</p>
<p>Apache virtual host configuration allows you to run multiple websites on the same server, that means you can run more than one website on the same Apache web server. You simply create a new virtual host configuration for each of your websites and restart the Apache configuration to start serving the website.</p>
<p>On Debian/Ubuntu, the recent version of Apache configuration files for all virtual hosts are stored in the <code>/etc/apache2/sites-available/</code> directory. So, it makes really difficult to go through all of these virtual host configuration files to fix any configuration errors.</p>
<p>To make things easier, in this article we will show you how to list all enabled apache virtual hosts on a web server using a single command on the terminal. This method will also help you to see a few other useful apache configurations.</p>
<p>This is practically helpful in a scenario where you are assisting a company to fix their web server issues remotely, yet you do not know their current apache web server configurations, in regards to virtual hosts.</p>
<p>It will help ease searching for the virtual host of a specific website in the apache config files and assist in troubleshooting any Apache issues, where you’ll, in most cases start with checking of the currently enabled virtual hosts before looking into the logs.</p>
<p>To list all enabled virtual hosts on the web server, run the following command in a terminal.</p>
<pre><code># apache2ctl -S   [On Debian/Ubuntu]
# httpd -S # Note: maybe you need to install it

AH00558: apache2: Could not reliably determine the server's
fully qualified domain name, using 127.0.1.1. Set the  
'ServerName' directive globally to suppress this message
VirtualHost configuration:
*:80                   is a NameVirtualHost
     default server 127.0.1.1 (/etc/apache2/sites-enabled/000-default.conf:1)
     port 80 namevhost 127.0.1.1 (/etc/apache2/sites-enabled/000-default.conf:1)
     port 80 namevhost www.site1.local (/etc/apache2/sites-enabled/site1.local.conf:1)
             alias site1.local
ServerRoot: &quot;/etc/apache2&quot;
Main DocumentRoot: &quot;/var/www/html&quot;
Main ErrorLog: &quot;/var/log/apache2/error.log&quot;
Mutex mpm-accept: using_defaults
Mutex watchdog-callback: using_defaults
Mutex rewrite-map: using_defaults
Mutex default: dir=&quot;/var/run/apache2/&quot; mechanism=default 
PidFile: &quot;/var/run/apache2/apache2.pid&quot;
Define: DUMP_VHOSTS
Define: DUMP_RUN_CFG
User: name=&quot;www-data&quot; id=33 not_used
Group: name=&quot;www-data&quot; id=33 not_used
</code></pre>
<p>Now the above site is diabled:</p>
<pre><code>sudo a2dissite site1.local.conf
</code></pre>
<p>then:</p>
<pre><code>sudo systemctl reload apache2
</code></pre>
<p>then:</p>
<pre><code>apache2ctl -S
</code></pre>
<p>You get:</p>
<pre><code>AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.1.1. Set the 'ServerName' directive globally to suppress this message
VirtualHost configuration:
	*:80                   127.0.1.1 (/etc/apache2/sites-enabled/000-default.conf:1)
ServerRoot: &quot;/etc/apache2&quot;
Main DocumentRoot: &quot;/var/www/html&quot;
Main ErrorLog: &quot;/var/log/apache2/error.log&quot;
Mutex default: dir=&quot;/var/run/apache2/&quot; mechanism=default 
Mutex mpm-accept: using_defaults
Mutex watchdog-callback: using_defaults
Mutex rewrite-map: using_defaults
PidFile: &quot;/var/run/apache2/apache2.pid&quot;
Define: DUMP_VHOSTS
Define: DUMP_RUN_CFG
User: name=&quot;www-data&quot; id=33 not_used
Group: name=&quot;www-data&quot; id=33 not_used
</code></pre>
<h2 id="setting-up-virtual-hosts">Setting Up Virtual Hosts</h2>
<p>Ref: <a href="https://medium.com/swlh/apache-for-beginners-9d104225ec89">https://medium.com/swlh/apache-for-beginners-9d104225ec89</a></p>
<p>What if you want to host multiple websites on the same server? Virtual hosts let you do that. They are a method for multiple domain names to use the same physical server and share computational resources.</p>
<p>First, if you want to host multiple sites on the same server, you probably won’t want to store all your web content in <code>/var/www/html</code>. You could create a separate directory for each one of your domains. Let’s say that we are creating a site with the domain name “mysite.com”.</p>
<pre><code>sudo mkdir /var/www/mysite.com
</code></pre>
<p>You can then fill web content for that domain in the domain-specific directory. This command creates an empty index file for your site.</p>
<pre><code>sudo touch /var/www/mysite.com/index.html
</code></pre>
<p>The contents of that index file could be as simple as:</p>
<pre><code>&lt;html&gt;
	&lt;body&gt;
        &lt;h1&gt;This is your index page :) &lt;/h1&gt;
	&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>For Apache to serve your content, it will need configuration files for this specific domain. So you need to create a configuration file named “YOUR_DOMAIN.conf” in the “sites-available” directory.</p>
<pre><code>sudo cp /etc/apache2/sites-available/000-default.conf /etc/apache2/sites-available/mylocalsite1.com.conf

sudo nano /etc/apache2/sites-available/mylocalsite1.com.conf
</code></pre>
<p>The file:</p>
<pre><code>&lt;VirtualHost *:80&gt;
    ServerAdmin admin@mylocalsite1.com
    ServerName mylocalsite1.com
    DocumentRoot /home/pankaj/project/web/apache/mylocalsite1.com
    ErrorLog /home/pankaj/project/web/apache/mylocalsite1.com/error.log
    CustomLog /home/pankaj/project/web/apache/mylocalsite1.com/access.log combined
&lt;/VirtualHost&gt;
</code></pre>
<p>Now enable the site:</p>
<pre><code>sudo a2ensite mylocalsite2.com.conf 
</code></pre>
<p>Cheick</p>
<pre><code>sudo apache2ctl configtest
sudo systemctl reload apache2
</code></pre>
<p>To see:</p>
<pre><code>ls /etc/apache2/sites-enabled/
mylocalsite1.com.conf  mylocalsite2.com.conf
ls /etc/apache2/sites-available/
000-default.conf  default-ssl.conf  mylocalsite1.com.conf  mylocalsite2.com.conf  site1.local.conf
</code></pre>
<p>file:</p>
<pre><code>sudo nano /etc/apache2/apache2.conf
</code></pre>
<p>The Apache web server will not be able to access the folder in the HOME folder. So change this to <code>Allow from all</code>.</p>
<pre><code>&lt;Directory /home/pankaj/project/web/apache/mylocalsite1.com/&gt;
     Options Indexes FollowSymLinks
     AllowOverride None
     Require all granted
     Allow from all
&lt;/Directory&gt;
</code></pre>
<p>Disable the site:</p>
<pre><code>sudo a2dissite mylocalsite1.com.conf
</code></pre>
<p>the above thing gives the site at <code>localhost</code>. but you cannot access more than one site on the same server. So what to do for it?</p>
<pre><code>sudo nano /etc/hosts
</code></pre>
<p>Open the above file.</p>
<pre><code>127.0.1.1    pankaj−desktop
127.0.1.1    site1.com
127.0.1.1    site2.com
127.0.1.1    site3.com
</code></pre>
<p>site</p>
<pre><code>$ sudo a2enmod rewrite
Module rewrite already enabled
</code></pre>
<p>the response was the second line above.</p>
<p>for laravel change the document root to <code>public</code> only</p>
<p>then you need to change the permission of access to folders also.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://example.org/" >
    &copy;  Personal Knowledge Wiki 2022 
  </a>
    <div>
<div class="ananke-socials">
  
</div></div>
  </div>
</footer>

  </body>
</html>
